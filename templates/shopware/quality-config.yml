# Quality Configuration for Shopware Projects
# Schema: https://raw.githubusercontent.com/meteor-digital/github-actions/main/schemas/quality-config.schema.json

quality_checks:
  # Standard quality tools (use their default config files)
  enabled_tools:
    - "php-cs-fixer"      # Uses .php-cs-fixer.php
    - "psalm"             # Uses psalm.xml (legacy support)
    - "phpstan"           # Uses phpstan.neon (recommended)
    - "rector"            # Uses rector.php
    - "phpunit"           # Uses phpunit.xml or phpunit.xml.dist
    - "composer-validate" # Validates composer.json
    
  # Test environment configuration
  test_environment:
    # Additional environment variables for .env.test.local
    # These will be added to the standard DATABASE_URL and MESSENGER_TRANSPORT_DSN
    # Use {{{SECRET_NAME}}} placeholders for secrets that will be replaced at runtime
    # Regular values can be used directly
    env_vars:
      # Add more project-specific environment variables as needed
      # - 'CUSTOM_API_KEY="${{ secrets.CUSTOM_API_KEY }}"'
    
  # Optional: Custom quality checks specific to your project
  # custom_checks:
  #   - name: "phpunuhi"
  #     command: "php ./vendor/bin/phpunuhi validate:all"
  #   - name: "security-audit"
  #     command: "composer audit"